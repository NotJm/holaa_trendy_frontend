<div *ngIf="lowStockProducts.length === 0" class="text-center py-8">
  <div
    class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"
  >
    <span
      class="icon-[mdi--check-circle-outline] w-8 h-8 text-green-600"
    ></span>
  </div>
  <p class="text-sm text-gray-500">
    Todos los productos tienen stock suficiente
  </p>
</div>

<div *ngIf="lowStockProducts.length > 0" class="space-y-4">
  <div
    *ngFor="let product of lowStockProducts; let last = last"
    [class]="
      'flex items-start p-4 rounded-lg border border-gray-100 hover:border-gray-200 hover:bg-gray-50 transition-all duration-200 ' +
      (product.totalStock <= 5
        ? 'border-red-200 bg-red-50'
        : product.totalStock <= 10
        ? 'border-orange-200 bg-orange-50'
        : '')
    "
  >
    <!-- Status Indicator -->
    <div class="mr-4 mt-1">
      <div
        [class]="
          'w-3 h-3 rounded-full ' +
          (product.totalStock <= 5
            ? 'bg-red-500'
            : product.totalStock <= 10
            ? 'bg-orange-500'
            : 'bg-gray-400')
        "
      ></div>
    </div>

    <!-- Product Info -->
    <div class="flex-1 min-w-0">
      <div class="flex items-start justify-between">
        <div class="flex-1 min-w-0">
          <h3 class="text-sm font-medium text-black truncate">
            {{ product.name }}
          </h3>
          <p class="text-xs text-gray-500 mt-1">
            {{ product.categoryName }}
            <span *ngIf="product.subCategoriesNames?.length" class="mx-1"
              >â€¢</span
            >
            <span *ngIf="product.subCategoriesNames?.length">
              {{ product.subCategoriesNames[0] }}
              <span *ngIf="product.subCategoriesNames.length > 1">
                +{{ product.subCategoriesNames.length - 1 }}
              </span>
            </span>
          </p>
        </div>

        <!-- Stock Badge -->
        <span
          [class]="
            'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ml-2 ' +
            (product.totalStock <= 5
              ? 'bg-red-100 text-red-800'
              : product.totalStock <= 10
              ? 'bg-orange-100 text-orange-800'
              : 'bg-gray-100 text-gray-800')
          "
        >
          {{ product.totalStock }} en stock
        </span>
      </div>
    </div>
  </div>
</div>
